<!doctype html>
<html lang="kk">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>–¢“±—Ä–∞“õ—Ç—ã –º–∞–≥–Ω–∏—Ç—Ç–µ—Ä ‚Äî –†–µ—Ñ–ª–µ–∫—Å–∏—è (2-–±–µ—Ç)</title>
  <style>
    :root{
      --bg1:#f6f1e7;
      --bg2:#efe2cf;
      --card:rgba(255,255,255,.72);
      --stroke:rgba(70,40,20,.16);
      --text:#2b1d14;
      --muted:#6a4f3d;

      --accent:#7a4b2a;
      --accent2:#c57f4a;

      --shadow:0 18px 45px rgba(45,25,10,.14);
      --shadow2:0 10px 28px rgba(45,25,10,.10);
    }

    *{box-sizing:border-box}
    body{
      margin:0;
      color:var(--text);
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;
      background:
        radial-gradient(1100px 520px at 20% 10%, rgba(197,127,74,.22), transparent 60%),
        radial-gradient(900px 480px at 80% 25%, rgba(122,75,42,.18), transparent 55%),
        linear-gradient(180deg,var(--bg1),var(--bg2));
      min-height:100vh;
    }

    header{
      position:sticky; top:0; z-index:10;
      backdrop-filter: blur(10px);
      background: rgba(246,241,231,.78);
      border-bottom:1px solid var(--stroke);
    }
    .head{
      max-width:1000px; margin:0 auto; padding:14px 16px;
      display:flex; gap:14px; align-items:center; justify-content:space-between;
      flex-wrap:wrap;
    }
    .title h1{margin:0; font-size:16px}
    .title p{margin:4px 0 0; font-size:12.5px; color:var(--muted)}

    nav{display:flex; gap:10px; flex-wrap:wrap;}
    .navlink{
      text-decoration:none; color:var(--text);
      font-weight:900; font-size:12.5px;
      padding:9px 12px; border-radius:999px;
      border:1px solid var(--stroke);
      background:rgba(255,255,255,.55);
      box-shadow: var(--shadow2);
    }
    .navlink.primary{
      background: linear-gradient(135deg, rgba(197,127,74,.35), rgba(122,75,42,.18));
    }

    main{max-width:1000px; margin:0 auto; padding:16px; display:grid; gap:14px;}
    .card{
      background:var(--card);
      border:1px solid var(--stroke);
      border-radius:18px;
      padding:14px;
      box-shadow: var(--shadow);
    }

    .muted{color:var(--muted); font-size:13px; margin:0 0 10px}
    .row{display:flex; gap:10px; flex-wrap:wrap; align-items:center;}
    .btn{
      cursor:pointer;
      border:0;
      border-radius:14px;
      padding:10px 12px;
      font-weight:1000;
      color:var(--text);
      background: rgba(255,255,255,.65);
      border:1px solid var(--stroke);
      box-shadow: var(--shadow2);
    }
    .btn.primary{
      background: linear-gradient(135deg, rgba(197,127,74,.45), rgba(122,75,42,.22));
    }
    .btn.ghost{background:transparent;}
    .btn:hover{transform:translateY(-1px)}

    .hr{height:1px; background: var(--stroke); margin:12px 0}

    input[type="text"], textarea, select{
      width:100%;
      padding:10px 10px;
      border-radius:14px;
      border:1px solid var(--stroke);
      background: rgba(255,255,255,.65);
      color:var(--text);
      outline:none;
    }
    textarea{min-height:92px; resize:vertical;}

    .grid{
      display:grid; gap:14px;
      grid-template-columns:1fr;
    }
    @media(min-width:920px){ .grid{grid-template-columns:1fr 1fr;} }

    .station{
      border:1px dashed var(--stroke);
      border-radius:18px;
      padding:12px;
      background: rgba(255,255,255,.55);
    }

    .mood{
      display:flex; gap:10px; flex-wrap:wrap; align-items:center;
    }
    .chip{
      padding:10px 12px;
      border-radius:999px;
      border:1px solid var(--stroke);
      background: rgba(255,255,255,.7);
      cursor:pointer;
      font-weight:1000;
      user-select:none;
    }
    .chip.active{
      outline:3px solid rgba(197,127,74,.30);
      background: rgba(197,127,74,.20);
    }

    .miniScore{
      padding:10px;
      border-radius:16px;
      border:1px solid var(--stroke);
      background: rgba(255,255,255,.55);
      display:flex; justify-content:space-between; gap:10px; flex-wrap:wrap;
    }

    pre{white-space:pre-wrap; margin:10px 0 0; color:var(--muted); font-size:12px}
    .small{font-size:12px; color:var(--muted)}
  </style>
</head>

<body>
<header>
  <div class="head">
    <div class="title">
      <h1>2-–±–µ—Ç: –†–µ—Ñ–ª–µ–∫—Å–∏—è (–µ—Ä–µ–∫—à–µ —Ñ–æ—Ä–º–∞—Ç)</h1>
      <p>‚ÄúMood + Compass Check + Exit Ticket‚Äù ‚Äî –¥–∞–π—ã–Ω –º”ô—Ç—ñ–Ω–¥—ñ –±—ñ—Ä –±–∞—Ç—ã—Ä–º–∞–º–µ–Ω –∫”©—à—ñ—Ä—É–≥–µ/–∂—ñ–±–µ—Ä—É–≥–µ –±–æ–ª–∞–¥—ã</p>
    </div>
    <nav>
      <a class="navlink" href="index.html">‚Üê 1-–±–µ—Ç</a>
      <a class="navlink primary" href="reflection.html">2-–±–µ—Ç</a>
    </nav>
  </div>
</header>

<main>
  <section class="card">
    <h2>–†–µ—Ñ–ª–µ–∫—Å–∏—è–Ω—ã —Ç–æ–ª—Ç—ã—Ä—É</h2>
    <p class="muted">–ë“±–ª –±–µ—Ç—Ç–µ “±–ø–∞–π “õ—É–∞–ª–∞–º–∞–π–º—ã–∑ ‚Äî –º–∞“õ—Å–∞—Ç: –æ“õ—É—à—ã–Ω—ã“£ —Ç“Ø—Å—ñ–Ω—ñ–≥—ñ–Ω –∞—à—É –∂”ô–Ω–µ –º“±“ì–∞–ª—ñ–º–≥–µ –¥–∞–π—ã–Ω –∫–µ—Ä—ñ –±–∞–π–ª–∞–Ω—ã—Å –±–µ—Ä—É.</p>

    <div class="miniScore">
      <div>
        <b>1-–±–µ—Ç—Ç–µ–≥—ñ “±–ø–∞–π (“õ–∞–ª–∞—Å–∞“£ –∫”©—Ä—ñ–Ω–µ–¥—ñ)</b>
        <div class="small">index.html –µ—Å–µ–ø—Ç–µ–≥–µ–Ω –Ω”ô—Ç–∏–∂–µ–Ω—ñ –æ—Å—ã –±–µ—Ç —Ç–µ –æ“õ–∏–¥—ã</div>
      </div>
      <div style="font-weight:1000;font-size:18px;">
        <span id="scoreFromPage1">0</span> / 10
      </div>
    </div>

    <div class="hr"></div>

    <div class="grid">
      <div class="station">
        <h3 style="margin:0 0 6px;">1) Mood Meter (–∫”©“£—ñ–ª-–∫“Ø–π)</h3>
        <p class="muted">–°–∞–±–∞“õ—Ç–∞–Ω –∫–µ–π—ñ–Ω–≥—ñ –∫“Ø–π—ñ“£–¥—ñ –±–µ–ª–≥—ñ–ª–µ.</p>

        <div class="mood" id="moodBox">
          <div class="chip" data-v="üòÄ –ö”©“£—ñ–ª–¥—ñ">üòÄ –ö”©“£—ñ–ª–¥—ñ</div>
          <div class="chip" data-v="üôÇ –ñ–∞“õ—Å—ã">üôÇ –ñ–∞“õ—Å—ã</div>
          <div class="chip" data-v="üòê –ë–µ–π—Ç–∞—Ä–∞–ø">üòê –ë–µ–π—Ç–∞—Ä–∞–ø</div>
          <div class="chip" data-v="üòï “ö–∏—ã–Ω–¥–∞—É">üòï “ö–∏—ã–Ω–¥–∞—É</div>
          <div class="chip" data-v="üò£ –ú“Ø–ª–¥–µ —Ç“Ø—Å—ñ–Ω–±–µ–¥—ñ–º">üò£ –¢“Ø—Å—ñ–Ω–±–µ–¥—ñ–º</div>
        </div>

        <p class="small" style="margin-top:10px;">–¢–∞“£–¥–∞–ª“ì–∞–Ω mood: <b id="moodText">—Ç–∞“£–¥–∞–ª–º–∞–¥—ã</b></p>
      </div>

      <div class="station">
        <h3 style="margin:0 0 6px;">2) Compass Check (1 —Å”©–π–ª–µ–º–¥—ñ–∫ “õ–æ—Ä—ã—Ç—ã–Ω–¥—ã)</h3>
        <p class="muted">‚Äú–ú–∞–≥–Ω–∏—Ç ”©—Ä—ñ—Å—ñ–Ω—ñ“£ –∫“Ø—à —Å—ã–∑—ã“õ—Ç–∞—Ä—ã‚Ä¶‚Äù —Å”©–π–ª–µ–º—ñ–Ω –∞—è“õ—Ç–∞:</p>
        <input id="oneSentence" type="text" placeholder="–ú—ã—Å–∞–ª—ã: ... —Å—ã—Ä—Ç“õ—ã –∫–µ“£—ñ—Å—Ç—ñ–∫—Ç–µ N‚ÜíS –±–∞“ì—ã—Ç—Ç–∞–ª–∞–¥—ã, –∞–ª —Ç—ã“ì—ã–∑–¥—ã“õ ”©—Ä—ñ—Å –∫“Ø—à—ñ–Ω –±—ñ–ª–¥—ñ—Ä–µ–¥—ñ." />
        <p class="small">–ú–∞“õ—Å–∞—Ç: –Ω–µ–≥—ñ–∑–≥—ñ –æ–π–¥—ã ”©–∑ —Å”©–∑—ñ“£–º–µ–Ω –∞–π—Ç—É.</p>
      </div>

      <div class="station">
        <h3 style="margin:0 0 6px;">3) Exit Ticket (3‚Äì2‚Äì1 –µ—Ä–µ–∫—à–µ)</h3>
        <p class="muted">–¢—ñ–∑—ñ–º–º–µ–Ω –µ–º–µ—Å, “õ—ã—Å“õ–∞ ‚Äú—Ö–∞—Ç‚Äù —Å—Ç–∏–ª—ñ–Ω–¥–µ –∂–∞–∑:</p>
        <textarea id="exitTicket" placeholder="–ë“Ø–≥—ñ–Ω –º–µ–Ω ... –±—ñ–ª–¥—ñ–º. –ï“£ “õ–∏—ã–Ω –±–æ–ª“ì–∞–Ω—ã ... –°–µ–±–µ–±—ñ ... –ö–µ–ª–µ—Å—ñ —Å–∞–±–∞“õ—Ç–∞ —Å“±—Ä–∞“ì—ã–º ..."></textarea>
        <p class="small">–ö–µ–º—ñ–Ω–¥–µ 2‚Äì3 —Å”©–π–ª–µ–º –∂–µ—Ç–∫—ñ–ª—ñ–∫—Ç—ñ.</p>
      </div>

      <div class="station">
        <h3 style="margin:0 0 6px;">4) –ö–µ—Ä—ñ –±–∞–π–ª–∞–Ω—ã—Å (–º“±“ì–∞–ª—ñ–º–≥–µ –¥–∞–π—ã–Ω)</h3>
        <p class="muted">”®–∑—ñ“£ —Ç—É—Ä–∞–ª—ã “õ—ã—Å“õ–∞ –º”ô–ª—ñ–º–µ—Ç –µ–Ω–≥—ñ–∑ (—Ö–∞—Ç“õ–∞ –∫—ñ—Ä—Å—ñ–Ω):</p>
        <label>–ê—Ç—ã“£:</label>
        <input id="studentName" type="text" placeholder="–ú—ã—Å–∞–ª—ã: –î–∏–∞–Ω–∞" />
        <label>–°—ã–Ω—ã–±—ã“£:</label>
        <input id="studentClass" type="text" placeholder="–ú—ã—Å–∞–ª—ã: 8–ê" />

        <div class="row" style="margin-top:10px;">
          <button class="btn primary" id="btnBuild">–ú”ô—Ç—ñ–Ω–¥—ñ “õ“±—Ä–∞—Å—Ç—ã—Ä—É</button>
          <button class="btn" id="btnCopy">–ö”©—à—ñ—Ä—É</button>
          <button class="btn ghost" id="btnClear">–¢–∞–∑–∞–ª–∞—É</button>
        </div>

        <pre id="resultText"></pre>

        <div class="hr"></div>

        <h3 style="margin:0 0 6px;">‚Äú–ñ—ñ–±–µ—Ä—É‚Äù –±–∞—Ç—ã—Ä–º–∞—Å—ã</h3>
        <p class="small">
          –ë“±–ª –±–∞—Ç—ã—Ä–º–∞ Gmail/–ø–æ—à—Ç–∞–Ω—ã –∞—à–∞–¥—ã. <br>
          –¢–µ–∫ –±—ñ—Ä —Ä–µ—Ç “õ–∞–Ω–∞ —Ç”©–º–µ–Ω–¥–µ–≥—ñ <b>nazerke.kairatkyzy2006@gmail.com</b> –∂–µ—Ä—ñ–Ω–µ ”©–∑ email-—ã“£–¥—ã “õ–æ–π—ã–ø –∫–µ—Ç.
        </p>

        <div class="row">
          <button class="btn primary" id="btnSend">–ñ—ñ–±–µ—Ä—É (Gmail –∞—à–∞–¥—ã)</button>
        </div>
      </div>
    </div>
  </section>
</main>

<script>
  const $ = (id)=>document.getElementById(id);

  // Load score from page1 storage
  function loadScore(){
    const raw = localStorage.getItem("magnet_qmj_v1");
    if(!raw) { $("scoreFromPage1").textContent="0"; return; }
    try{
      const d = JSON.parse(raw);
      const s = d?.state || {};
      const total = (s.test||0)+(s.compass||0)+(s.lines||0)+(s.poles||0)+(s.crossword||0);
      $("scoreFromPage1").textContent = total;
    }catch(e){
      $("scoreFromPage1").textContent="0";
    }
  }

  // Mood chips
  let mood = "";
  document.querySelectorAll(".chip").forEach(ch=>{
    ch.addEventListener("click", ()=>{
      document.querySelectorAll(".chip").forEach(x=>x.classList.remove("active"));
      ch.classList.add("active");
      mood = ch.dataset.v;
      $("moodText").textContent = mood;
      save();
    });
  });

  function save(){
    localStorage.setItem("magnet_reflection_v1", JSON.stringify({
      mood,
      oneSentence: $("oneSentence").value,
      exitTicket: $("exitTicket").value,
      studentName: $("studentName").value,
      studentClass: $("studentClass").value
    }));
  }
  function load(){
    const raw = localStorage.getItem("magnet_reflection_v1");
    if(!raw) return;
    try{
      const d = JSON.parse(raw);
      mood = d.mood || "";
      $("oneSentence").value = d.oneSentence || "";
      $("exitTicket").value = d.exitTicket || "";
      $("studentName").value = d.studentName || "";
      $("studentClass").value = d.studentClass || "";

      if(mood){
        $("moodText").textContent = mood;
        document.querySelectorAll(".chip").forEach(ch=>{
          if(ch.dataset.v === mood) ch.classList.add("active");
        });
      }
    }catch(e){}
  }

  ["oneSentence","exitTicket","studentName","studentClass"].forEach(id=>{
    $(id).addEventListener("input", save);
  });

  function buildText(){
    const score = $("scoreFromPage1").textContent;
    const name = $("studentName").value.trim() || "–û“õ—É—à—ã";
    const cls  = $("studentClass").value.trim() || "8-—Å—ã–Ω—ã–ø";
    const m = mood || "—Ç–∞“£–¥–∞–ª–º–∞–¥—ã";
    const one = $("oneSentence").value.trim() || "(–∂–æ“õ)";
    const ex  = $("exitTicket").value.trim() || "(–∂–æ“õ)";

    const text =
`–¢–∞“õ—ã—Ä—ã–ø: –¢“±—Ä–∞“õ—Ç—ã –º–∞–≥–Ω–∏—Ç—Ç–µ—Ä (—Ä–µ—Ñ–ª–µ–∫—Å–∏—è)
–û“õ—É—à—ã: ${name} (${cls})
–ù”ô—Ç–∏–∂–µ (1-–±–µ—Ç): ${score}/10
Mood: ${m}

Compass Check (1 —Å”©–π–ª–µ–º):
${one}

Exit Ticket:
${ex}
`;
    $("resultText").textContent = text;
    return text;
  }

  $("btnBuild").addEventListener("click", buildText);

  $("btnCopy").addEventListener("click", ()=>{
    const t = buildText();
    navigator.clipboard?.writeText(t).catch(()=>{});
  });

  $("btnClear").addEventListener("click", ()=>{
    mood="";
    $("moodText").textContent="—Ç–∞“£–¥–∞–ª–º–∞–¥—ã";
    document.querySelectorAll(".chip").forEach(x=>x.classList.remove("active"));
    $("oneSentence").value="";
    $("exitTicket").value="";
    $("studentName").value="";
    $("studentClass").value="";
    $("resultText").textContent="";
    localStorage.removeItem("magnet_reflection_v1");
  });

  $("btnSend").addEventListener("click", ()=>{
    const t = buildText();
    const subject = encodeURIComponent("–†–µ—Ñ–ª–µ–∫—Å–∏—è: –¢“±—Ä–∞“õ—Ç—ã –º–∞–≥–Ω–∏—Ç—Ç–µ—Ä");
    const body = encodeURIComponent(t);

    // üîª –ú–Ü–ù–î–ï–¢–¢–Ü: –º—ã–Ω–∞ email-–¥—ã ”©–∑ email-—ã“£–º–µ–Ω –∞—É—ã—Å—Ç—ã—Ä!
    const to = "YOUR_EMAIL_HERE@gmail.com";

    // mailto opens Gmail/Email app on phone
    window.location.href = `mailto:${to}?subject=${subject}&body=${body}`;
  });

  loadScore();
  load();
</script>
</body>
</html>
